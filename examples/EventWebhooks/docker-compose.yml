version: '3.7'
services:
  event-webhooks:
    build: .
    container_name: event-webhooks
    restart: always
    environment:
      - AMQP_HOST=rabbitmq
      - AMQP_PORT=5672
    volumes:
      - ./src:/usr/src/app
      - ../lib:/usr/src/lib
      - ./conf/config.json:/usr/src/conf/config.json:ro
    command: ["/usr/bin/python3", "main.py", "--config_file", "/usr/src/conf/config.json"]
    networks:
      core_sighthound:
        aliases:
          - event-webhooks

networks:
  core_sighthound:
    external: true